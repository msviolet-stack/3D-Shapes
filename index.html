<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>3D Shape Net Explorer</title>

<script type="importmap">
{
  "imports": {
    "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
    "three/": "https://unpkg.com/three@0.160.0/"
  }
}
</script>

<style>

body{
margin:0;
font-family:Arial;
background:linear-gradient(135deg,#ffe6ff,#e6f6ff,#eaffef,#fff5dc);
}

.wrap{
display:grid;
grid-template-columns:320px 1fr;
height:100vh;
padding:16px;
gap:16px;
}

.panel{
background:white;
padding:16px;
border-radius:16px;
}

button{
width:100%;
padding:12px;
margin-top:10px;
font-size:18px;
border-radius:12px;
border:none;
background:linear-gradient(135deg,#6ea8ff,#8bffb0);
cursor:pointer;
}

.canvas{
background:white;
border-radius:16px;
height:100%;
}

</style>

</head>

<body>

<div class="wrap">

<div class="panel">

<h2>Shape Net Explorer</h2>

<button id="cubeBtn">Cube</button>

<button id="pyramidBtn">Pyramid</button>

<br><br>

Open shape:

<input id="slider" type="range" min="0" max="100" value="0">

</div>

<div id="view" class="canvas"></div>

</div>


<script type="module">

import * as THREE from "three";
import { OrbitControls } from "three/examples/jsm/controls/OrbitControls.js";

const container=document.getElementById("view");
const slider=document.getElementById("slider");

const scene=new THREE.Scene();

const camera=new THREE.PerspectiveCamera(45,1,0.1,100);
camera.position.set(4,3,5);

const renderer=new THREE.WebGLRenderer({antialias:true});
container.appendChild(renderer.domElement);

const controls=new OrbitControls(camera,renderer.domElement);

scene.add(new THREE.AmbientLight(0xffffff,1));

const light=new THREE.DirectionalLight(0xffffff,1);
light.position.set(5,10,5);
scene.add(light);

let root=new THREE.Group();
scene.add(root);

let currentShape="cube";

function clearShape(){

scene.remove(root);

root=new THREE.Group();

scene.add(root);

}


function createFace(color){

const geo=new THREE.PlaneGeometry(1,1);

const mat=new THREE.MeshStandardMaterial({
color:color,
side:THREE.DoubleSide
});

return new THREE.Mesh(geo,mat);

}


function buildCube(){

clearShape();

const center=new THREE.Group();
root.add(center);

center.add(createFace(0x6ea8ff));

const right=new THREE.Group();
right.position.x=0.5;
right.add(createFace(0xff8b8b));
center.add(right);

const left=new THREE.Group();
left.position.x=-0.5;
left.add(createFace(0x8bffb0));
center.add(left);

const top=new THREE.Group();
top.position.y=0.5;
top.add(createFace(0xffe08b));
center.add(top);

const bottom=new THREE.Group();
bottom.position.y=-0.5;
bottom.add(createFace(0xc78bff));
center.add(bottom);

const back=new THREE.Group();
back.position.x=1;
back.add(createFace(0x8be6ff));
right.add(back);

root.userData={center,right,left,top,bottom,back};

}



function buildPyramid(){

clearShape();

const base=new THREE.Group();
root.add(base);

base.add(createFace(0x6ea8ff));


const side1=new THREE.Group();
side1.position.y=0.5;
side1.add(createFace(0xff8b8b));
base.add(side1);

const side2=new THREE.Group();
side2.position.y=-0.5;
side2.add(createFace(0x8bffb0));
base.add(side2);

const side3=new THREE.Group();
side3.position.x=0.5;
side3.add(createFace(0xffe08b));
base.add(side3);

const side4=new THREE.Group();
side4.position.x=-0.5;
side4.add(createFace(0xc78bff));
base.add(side4);

root.userData={side1,side2,side3,side4};

}


function openShape(value){

const s=value/100;

if(currentShape=="cube"){

const a=(1-s)*Math.PI/2;

root.userData.right.rotation.y=-a;
root.userData.left.rotation.y=a;
root.userData.top.rotation.x=a;
root.userData.bottom.rotation.x=-a;
root.userData.back.rotation.y=-a;

}

if(currentShape=="pyramid"){

const a=(1-s)*Math.PI/2;

root.userData.side1.rotation.x=a;
root.userData.side2.rotation.x=-a;
root.userData.side3.rotation.y=-a;
root.userData.side4.rotation.y=a;

}

}


document.getElementById("cubeBtn").onclick=()=>{

currentShape="cube";

buildCube();

openShape(slider.value);

}

document.getElementById("pyramidBtn").onclick=()=>{

currentShape="pyramid";

buildPyramid();

openShape(slider.value);

}

slider.oninput=()=>{

openShape(slider.value);

}



function resize(){

const w=container.clientWidth;
const h=container.clientHeight;

renderer.setSize(w,h);

camera.aspect=w/h;

camera.updateProjectionMatrix();

}

window.onresize=resize;

resize();


buildCube();

function animate(){

renderer.render(scene,camera);

requestAnimationFrame(animate);

}

animate();

</script>

</body>
</html>
